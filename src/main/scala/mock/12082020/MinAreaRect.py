from collections import defaultdict

class Solution:
    def find(self, key, arr, x):
        lo = 0
        hi = len(arr) - 1
        while lo <= hi:
            mid = lo + (hi-lo)//2
            if key(arr[mid]) == x:
                return mid
            if key(arr[mid]) > x:
                hi = mid - 1
            else:
               lo = mid + 1
        return -1


    def minAreaRect(self, points):
        min_area = float('inf')
        y_points = defaultdict(list)
        x_points = defaultdict(list)
        for x,y in points:
            y_points[y].append([x,y])
            x_points[x].append([x,y])
        for k in x_points.keys():
            x_points[k].sort(key=lambda x:x[1])

        for k in y_points.keys():
            y_points[k].sort(key=lambda x:x[0])

        points.sort(key=lambda x: (x[0], x[1]))
        for i1 in range(len(points)):
            x1, y1 = points[i1]
            # points with x == x1
            r2 = self.find(lambda x:x[1], x_points[x1], y1)
            if r2 == -1:
                continue
            for i2 in range(r2, len(x_points[x1])):
                x2, y2 = x_points[x1][i2]
                if x2 == x1 and y2 >= y1:
                    dy = y2 - y1
                    r3 = self.find(lambda x: x[0], y_points[y1], x1)
                    if r3 == -1:
                        continue
                    for i3 in range(r3, len(y_points[y1])):
                        x3,y3 = y_points[y1][i3]
                        if x3 >= x1 and y1 == y3:
                            dx = x3 - x1
                            for x4,y4 in x_points[x3]:
                                if x4 - x2 == dx and x4 == x3 and y4 >= y3 and y4 - y3 == dy:
                                    min_area = min(min_area, abs(y1 - y2) * abs(x3 - x1))
        return min_area if min_area != float('inf') else 0


sol = Solution()
print(sol.minAreaRect([[22485,37760],[22485,8215],[22485,34974],[22485,4071],[22485,27469],[22485,30259],[22485,5230],[22485,13268],[22485,12559],[22485,15605],[22485,6688],[22485,35222],[22485,14562],[22485,9603],[22485,16745],[22485,38826],[22485,37068],[22485,35608],[22485,34446],[22485,29753],[22485,39386],[22485,10005],[22485,26524],[22485,24491],[22485,27230],[22485,17894],[22485,16551],[22485,22830],[22485,12121],[22485,1172],[22485,26746],[22485,39041],[22485,4784],[22485,9612],[22485,37234],[22485,21011],[22485,7988],[22485,2396],[22485,13975],[22485,17021],[22485,14819],[22485,18206],[22485,9834],[22485,18952],[22485,19211],[22485,24902],[22485,28536],[22485,11995],[22485,39958],[22485,28946],[22485,37862],[22485,23822],[22485,39291],[22485,26294],[22485,1249],[22485,31260],[22485,39857],[22485,8684],[22485,15987],[22485,4014],[22485,2383],[22485,19040],[22485,6730],[22485,24880],[22485,18283],[22485,31910],[22485,21625],[22485,18477],[22485,26884],[22485,10627],[22485,3149],[22485,34457],[22485,17338],[22485,28448],[22485,21851],[22485,17046],[22485,18359],[22485,3554],[22485,11907],[22485,8967],[22485,4826],[22485,30741],[22485,28828],[22485,15362],[22485,1000],[22485,8483],[22485,27332],[22485,32016],[22485,27756],[22485,20884],[22485,33878],[22485,17212],[22485,14212],[22485,35336],[22485,14256],[22485,28139],[22485,10003],[22485,19790],[22485,20772],[22485,31170],[22485,3972],[22485,7179],[22485,21062],[22485,19756],[22485,36846],[22485,2900],[22485,20289],[22485,567],[22485,3013],[22485,22187],[22485,39441],[22485,2439],[22485,9581],[22485,17048],[22485,5646],[22485,23343],[22485,3868],[22485,10301],[22485,35429],[22485,21713],[22485,21228],[22485,38482],[22485,17720],[22485,22233],[22485,6735],[22485,12732],[22485,15650],[22485,20616],[22485,7875],[22485,7294],[22485,33764],[22485,35812],[22485,377],[22485,3311],[22485,17943],[22485,13378],[22485,27432],[22485,25362],[22485,5017],[22485,38626],[22485,33667],[22485,18527],[22485,13253],[22485,37433],[22485,7887],[22485,11339],[22485,23345],[22485,26279],[22485,33267],[22485,38233],[22485,37524],[22485,11898],[22485,11744],[22485,28105],[22485,30550],[22485,29580],[22485,19160],[22485,11301],[22485,39066],[22485,28373],[22485,10076],[22485,26749],[22485,26595],[22485,3852],[22485,21295],[22485,19562],[22485,18988],[22485,19123],[22485,31963],[22485,21014],[22485,15714],[22485,28137],[22485,26250],[22485,486],[22485,38509],[22485,28115],[22485,16569],[22485,31791],[22485,18299],[22485,15073],[22485,12162],[22485,24286],[22485,580],[22485,19600],[22485,32591],[22485,27898],[22485,4192],[22485,18843],[22485,37111],[22485,15484],[22485,12247],[22485,14106],[22485,18038],[22485,33559],[22485,25033],[22485,39658],[22485,16691],[22485,6868],[22485,28687],[22485,31162],[22485,13147],[22485,33916],[22485,21606],[22485,37836],[22485,39175],[22485,37262],[22485,10927],[22485,25533],[22485,36477],[22485,32383],[22485,32682],[22485,1509],[22485,19216],[22485,22994],[22485,18478],[22485,15134],[22485,10132],[22485,25762],[22485,7747],[22485,10534],[22485,23692],[22485,26164],[22485,30976],[22485,18977],[22485,14173],[22485,5797],[22485,17767],[22485,2706],[22485,11168],[22485,28438],[22485,27620],[22485,11720],[22485,906],[22485,25771],[22485,38791],[22485,22227],[22485,34785],[22485,27479],[22485,16163],[22485,6515],[22485,18094],[22485,15712],[22485,9729],[22485,38844],[22485,33987],[22485,33406],[22485,36912],[22485,3691],[22485,36305],[22485,19212],[22485,28402],[22485,22990],[22485,21819],[22485,27510],[22485,3804],[22485,27979],[22485,26467],[22485,29854],[22485,28676],[22485,33215],[22485,25575],[22485,12562],[22485,27187],[22485,16629],[22485,17345],[22485,5815],[22485,10781],[22485,34888],[22485,35203],[22485,39135],[22485,11786],[22485,5042],[22485,6798],[22485,37653],[22485,26690],[22485,24322],[22485,8497],[22485,5287],[22485,37721],[22485,28367],[22485,1146],[22485,18262],[22485,22782],[22485,3018],[22485,9904],[22485,1237],[22485,25078],[22485,7969],[22485,26237],[22485,19230],[22485,29605],[22485,7328],[22485,11026],[22485,35682],[22485,37156],[22485,14876],[22485,33327],[22485,20885],[22485,4925],[22485,14696],[22485,9891],[22485,5342],[22485,5612],[22485,18905],[22485,27386],[22485,5728],[22485,32667],[22485,17288],[22485,13741],[22485,39948],[22485,33351],[22485,20312],[22485,15054],[22485,29525],[22485,38459],[22485,10804],[22485,18377],[22485,31824],[22485,9158],[22485,31975],[22485,29337],[22485,34319],[22485,15861],[22485,31671],[22485,6626],[22485,28265],[22485,9695],[22485,25036],[22485,39661],[22485,8502],[22485,21207],[22485,14781],[22485,13446],[22485,38263],[22485,10461],[22485,36671],[22485,31664],[22485,1875],[22485,25199],[22485,17277],[22485,16969],[22485,27528],[22485,22086],[22485,25900],[22485,33774],[22485,33426],[22485,17641],[22485,22623],[22485,27018],[22485,9584],[22485,11475],[22485,29198],[22485,37393],[22485,18391],[22485,13658],[22485,24768],[22485,21074],[22485,35128],[22485,8051],[22485,23084],[22485,39067],[22485,1750],[22485,34236],[22485,19447],[22485,10077],[22485,38884],[22485,13419],[22485,2605],[22485,10479],[22485,27451],[22485,39286],[22485,4162],[22485,4605],[22485,11815],[22485,3427],[22485,12913],[22485,36761],[22485,22714],[22485,38206],[22485,21353],[22485,5855],[22485,38720],[22485,28769],[22485,14748],[22485,2007],[22485,7715],[22485,11204],[22485,7802],[22485,25210],[22485,7963],[22485,5886],[22485,11305],[22485,20229],[22485,36433],[22485,15353],[22485,28527],[22485,39637],[22485,2048],[22485,37307],[22485,15463],[22485,39885],[22485,39288],[22485,18969],[22485,24617],[22485,39735],[22485,13936],[22485,20395],[22485,36326],[22485,33235],[22485,31772],[22485,29406],[22485,144],[22485,5835],[22485,11194],[22485,21484],[22485,18547],[22485,13135],[22485,18682],[22485,36405],[22485,5367],[22485,5194],[22485,25304],[22485,7377],[22485,25100],[22485,31218],[22485,12494],[22485,35157],[22485,23158],[22485,929],[22485,7779],[22485,21961],[22485,2820],[22485,5157],[22485,12880],[22485,10394],[22485,17580],[22485,5845],[22485,5135],[22485,14336],[22485,3689],[22485,17558],[22485,22239],[22485,37265],[22485,30556],[22485,3608],[22485,533],[22485,2112],[22485,8125],[22485,6269],[22485,8677],[22485,5904],[22485,13643],[22485,2097],[22485,33900],[22485,34547],[22485,33838],[22485,24449],[22485,28834],[22485,15185],[22485,15789],[22485,564],[22485,32725],[22485,3142],[22485,33884],[22485,1855],[22485,9578],[22485,36363],[22485,35910],[22485,9421],[22485,8982],[22485,8513],[22485,20063],[22485,30438],[22485,26930],[22485,26780],[22485,18480],[22485,13750],[22485,5739],[22485,33341],[22485,26728],[22485,12707],[22485,18398],[22485,2640],[22485,24838],[22485,7857],[22485,21740],[22485,12370],[22485,35213],[22485,36189],[22485,8237],[22485,28286],[22485,20393],[22485,5030],[22485,22284],[22485,12333]]))




